{"version":3,"file":"notificare.bundle.js","sources":["../src/js/notificare-device-module.ts","../src/js/notificare-events-module.ts","../src/js/events.ts","../src/js/notificare.ts","../src/js/index.ts"],"sourcesContent":["import { NotificareDevice } from './models/notificare-device';\nimport { NotificareDoNotDisturb } from './models/notificare-do-not-disturb';\n\nexport class NotificareDeviceModule {\n  public async getCurrentDevice(): Promise<NotificareDevice | null> {\n    return new Promise((resolve, reject) => {\n      cordova.exec(resolve, reject, 'Notificare', 'getCurrentDevice', []);\n    });\n  }\n\n  public async getPreferredLanguage(): Promise<string | null> {\n    return new Promise((resolve, reject) => {\n      cordova.exec(resolve, reject, 'Notificare', 'getPreferredLanguage', []);\n    });\n  }\n\n  public async updatePreferredLanguage(language: string | null): Promise<void> {\n    return new Promise((resolve, reject) => {\n      cordova.exec(resolve, reject, 'Notificare', 'updatePreferredLanguage', [language]);\n    });\n  }\n\n  public async register(userId: string | null, userName: string | null): Promise<void> {\n    return new Promise((resolve, reject) => {\n      cordova.exec(resolve, reject, 'Notificare', 'register', [userId, userName]);\n    });\n  }\n\n  public async fetchTags(): Promise<string[]> {\n    return new Promise((resolve, reject) => {\n      cordova.exec(resolve, reject, 'Notificare', 'fetchTags', []);\n    });\n  }\n\n  public async addTag(tag: string): Promise<void> {\n    return new Promise((resolve, reject) => {\n      cordova.exec(resolve, reject, 'Notificare', 'addTag', [tag]);\n    });\n  }\n\n  public async addTags(tags: string[]): Promise<void> {\n    return new Promise((resolve, reject) => {\n      cordova.exec(resolve, reject, 'Notificare', 'addTags', [tags]);\n    });\n  }\n\n  public async removeTag(tag: string): Promise<void> {\n    return new Promise((resolve, reject) => {\n      cordova.exec(resolve, reject, 'Notificare', 'removeTag', [tag]);\n    });\n  }\n\n  public async removeTags(tags: string[]): Promise<void> {\n    return new Promise((resolve, reject) => {\n      cordova.exec(resolve, reject, 'Notificare', 'removeTags', [tags]);\n    });\n  }\n\n  public async clearTags(): Promise<void> {\n    return new Promise((resolve, reject) => {\n      cordova.exec(resolve, reject, 'Notificare', 'clearTags', []);\n    });\n  }\n\n  public async fetchDoNotDisturb(): Promise<NotificareDoNotDisturb | null> {\n    return new Promise((resolve, reject) => {\n      cordova.exec(resolve, reject, 'Notificare', 'fetchDoNotDisturb', []);\n    });\n  }\n\n  public async updateDoNotDisturb(dnd: NotificareDoNotDisturb): Promise<void> {\n    return new Promise((resolve, reject) => {\n      cordova.exec(resolve, reject, 'Notificare', 'updateDoNotDisturb', [dnd]);\n    });\n  }\n\n  public async clearDoNotDisturb(): Promise<void> {\n    return new Promise((resolve, reject) => {\n      cordova.exec(resolve, reject, 'Notificare', 'clearDoNotDisturb', []);\n    });\n  }\n\n  public async fetchUserData(): Promise<Record<string, string>> {\n    return new Promise((resolve, reject) => {\n      cordova.exec(resolve, reject, 'Notificare', 'fetchUserData', []);\n    });\n  }\n\n  public async updateUserData(userData: Record<string, string>): Promise<void> {\n    return new Promise((resolve, reject) => {\n      cordova.exec(resolve, reject, 'Notificare', 'updateUserData', [userData]);\n    });\n  }\n}\n","export class NotificareEventsModule {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  public async logCustom(event: string, data?: Record<string, any>) {\n    return new Promise((resolve, reject) => {\n      cordova.exec(resolve, reject, 'Notificare', 'logCustom', [event, data]);\n    });\n  }\n}\n","const EVENT_SUBSCRIPTIONS: EventSubscription[] = [];\n\nexport function bootstrap() {\n  document.addEventListener(\n    'deviceready',\n    function onDeviceReady() {\n      cordova.exec(\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        function onSuccess(event: any) {\n          EVENT_SUBSCRIPTIONS.filter((sub) => sub.event === event.name).forEach((sub) => sub.callback(event.data));\n        },\n        function onFailure(error: unknown) {\n          console.error('Failed to register event listener.', error);\n        },\n        'Notificare',\n        'registerListener',\n        []\n      );\n    },\n    false\n  );\n}\n\nexport class EventSubscription {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  constructor(readonly event: string, readonly callback: (data: any) => void) {\n    EVENT_SUBSCRIPTIONS.push(this);\n  }\n\n  remove(): void {\n    const index = EVENT_SUBSCRIPTIONS.indexOf(this);\n    if (index >= 0) {\n      EVENT_SUBSCRIPTIONS.splice(index, 1);\n    }\n  }\n}\n","import { NotificareDeviceModule } from './notificare-device-module';\nimport { NotificareEventsModule } from './notificare-events-module';\nimport { EventSubscription } from './events';\nimport { NotificareApplication } from './models/notificare-application';\nimport { NotificareNotification } from './models/notificare-notification';\nimport { NotificareDevice } from './models/notificare-device';\n\nexport class Notificare {\n  private static readonly deviceModule = new NotificareDeviceModule();\n  private static readonly eventsModule = new NotificareEventsModule();\n\n  //\n  // Modules\n  //\n\n  public static device(): NotificareDeviceModule {\n    return this.deviceModule;\n  }\n\n  public static events(): NotificareEventsModule {\n    return this.eventsModule;\n  }\n\n  //\n  // Methods\n  //\n\n  public static async isConfigured(): Promise<boolean> {\n    return new Promise<boolean>((resolve, reject) => {\n      cordova.exec(resolve, reject, 'Notificare', 'isConfigured', []);\n    });\n  }\n\n  public static async isReady(): Promise<boolean> {\n    return new Promise<boolean>((resolve, reject) => {\n      cordova.exec(resolve, reject, 'Notificare', 'isReady', []);\n    });\n  }\n\n  public static async launch(): Promise<void> {\n    return new Promise<void>((resolve, reject) => {\n      cordova.exec(resolve, reject, 'Notificare', 'launch', []);\n    });\n  }\n\n  public static async unlaunch(): Promise<void> {\n    return new Promise<void>((resolve, reject) => {\n      cordova.exec(resolve, reject, 'Notificare', 'unlaunch', []);\n    });\n  }\n\n  public static async getApplication(): Promise<NotificareApplication | null> {\n    return new Promise<NotificareApplication>((resolve, reject) => {\n      cordova.exec(resolve, reject, 'Notificare', 'getApplication', []);\n    });\n  }\n\n  public static async fetchApplication(): Promise<NotificareApplication> {\n    return new Promise<NotificareApplication>((resolve, reject) => {\n      cordova.exec(resolve, reject, 'Notificare', 'fetchApplication', []);\n    });\n  }\n\n  public static async fetchNotification(id: string): Promise<NotificareNotification> {\n    return new Promise<NotificareNotification>((resolve, reject) => {\n      cordova.exec(resolve, reject, 'Notificare', 'fetchNotification', [id]);\n    });\n  }\n\n  //\n  // Events\n  //\n\n  static onReady(callback: (application: NotificareApplication) => void): EventSubscription {\n    return new EventSubscription('ready', callback);\n  }\n\n  static onUnlaunched(callback: () => void): EventSubscription {\n    return new EventSubscription('unlaunched', callback);\n  }\n\n  static onDeviceRegistered(callback: (device: NotificareDevice) => void): EventSubscription {\n    return new EventSubscription('device_registered', callback);\n  }\n\n  static onUrlOpened(callback: (url: string) => void): EventSubscription {\n    return new EventSubscription('url_opened', callback);\n  }\n}\n","import { Notificare } from './notificare';\nimport { bootstrap } from './events';\n\nexport * from './models/notificare-application';\nexport * from './models/notificare-device';\nexport * from './models/notificare-do-not-disturb';\nexport * from './models/notificare-notification';\n\nexport default Notificare;\n\nbootstrap();\n"],"names":[],"mappings":"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"}